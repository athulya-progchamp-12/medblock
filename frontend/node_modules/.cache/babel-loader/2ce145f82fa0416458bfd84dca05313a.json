{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useAuth}from\"../../../Context/Context\";import{Link,useHistory}from\"react-router-dom\";import\"./Login.css\";import axios from\"axios\";import{Header}from\"../../utils/Header/Header\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export const Login=()=>{const history=useHistory();const{login}=useAuth();const[isManufacturer,setIsManufacturer]=useState(true);const[loginError,setLoginError]=useState(false);const[userDetails,setUserDetails]=useState({email:\"\",password:\"\"});const onInputChange=e=>{const{name,value}=e.target;setUserDetails(prevUserDetails=>{return{...prevUserDetails,[name]:value};});};const handleSubmit=async e=>{e.preventDefault();setLoginError(false);let user={};try{user=await login(userDetails.email,userDetails.password);user&&history.push(\"/\".concat(isManufacturer?\"manufacturer\":\"hospital\"));axios.post(\"/login/\".concat(isManufacturer?\"manufacturer\":\"hospital\"),{email:userDetails.email}).then(res=>{setUserDetails({email:\"\",password:\"\"});setLoginError(false);history.push(\"/\".concat(isManufacturer?\"manufacturer\":\"hospital\"));}).catch(err=>{});}catch(err){setUserDetails({email:\"\",password:\"\"});setLoginError(true);}};const showError=()=>{return/*#__PURE__*/_jsx(\"div\",{style:{color:\"#ff000085\",fontWeight:\"800\"},children:\"Login Error! Check Your Login ID or Password\"});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"login\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"login__left\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"New here!\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Register yourself here to get access to our technology\"}),/*#__PURE__*/_jsx(\"button\",{children:/*#__PURE__*/_jsx(Link,{to:\"/signup\",style:{color:\"#fff\"},children:\"SIGN UP\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"login__right\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome Back\"}),/*#__PURE__*/_jsx(\"p\",{children:\"use your email for login\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"login__user__company\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"login__user\",style:{background:isManufacturer?\"#0c0fb0\":\"#ffffff\",color:isManufacturer?\"#ffffff\":\"#0c0fb0\",cursor:\"pointer\",boxShadow:\"0px 0px 3px 3px #12121210\"},onClick:()=>setIsManufacturer(true),children:\"Manufacturer\"}),/*#__PURE__*/_jsx(\"div\",{className:\"login__company\",style:{background:!isManufacturer?\"#0c0fb0\":\"#ffffff\",color:!isManufacturer?\"#ffffff\":\"#0c0fb0\",cursor:\"pointer\",boxShadow:\"0px 0px 3px 3px #12121210\"},onClick:()=>setIsManufacturer(false),children:\"Retailer\"})]}),loginError&&showError(),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{name:\"email\",onChange:onInputChange,value:userDetails.email,placeholder:\"EMAIL\"}),/*#__PURE__*/_jsx(\"input\",{name:\"password\",onChange:onInputChange,value:userDetails.password,type:\"password\",placeholder:\"PASSWORD\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"LOGIN\"})]})]})]})]});};","map":{"version":3,"names":["React","useState","useEffect","useAuth","Link","useHistory","axios","Header","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Login","history","login","isManufacturer","setIsManufacturer","loginError","setLoginError","userDetails","setUserDetails","email","password","onInputChange","e","name","value","target","prevUserDetails","handleSubmit","preventDefault","user","push","concat","post","then","res","catch","err","showError","style","color","fontWeight","children","className","to","background","cursor","boxShadow","onClick","onSubmit","onChange","placeholder","type"],"sources":["C:/Users/Khushi Singh/OneDrive/Desktop/Medicator/frontend/src/Components/Pages/Login/Login.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useAuth } from \"../../../Context/Context\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport \"./Login.css\";\r\nimport axios from \"axios\";\r\nimport { Header } from \"../../utils/Header/Header\";\r\n\r\nexport const Login = () => {\r\n  const history = useHistory();\r\n  const { login } = useAuth();\r\n  const [isManufacturer, setIsManufacturer] = useState(true);\r\n  const [loginError, setLoginError] = useState(false);\r\n  const [userDetails, setUserDetails] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n  const onInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setUserDetails((prevUserDetails) => {\r\n      return { ...prevUserDetails, [name]: value };\r\n    });\r\n  };\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoginError(false);\r\n    let user = {};\r\n    try {\r\n      user = await login(userDetails.email, userDetails.password);\r\n      user && history.push(`/${isManufacturer ? \"manufacturer\" : \"hospital\"}`);\r\n      axios\r\n        .post(`/login/${isManufacturer ? \"manufacturer\" : \"hospital\"}`, {\r\n          email: userDetails.email,\r\n        })\r\n        .then((res) => {\r\n          setUserDetails({\r\n            email: \"\",\r\n            password: \"\",\r\n          });\r\n          setLoginError(false);\r\n          history.push(`/${isManufacturer ? \"manufacturer\" : \"hospital\"}`);\r\n        })\r\n        .catch((err) => {});\r\n    } catch (err) {\r\n      setUserDetails({\r\n        email: \"\",\r\n        password: \"\",\r\n      });\r\n      setLoginError(true);\r\n    }\r\n  };\r\n  const showError = () => {\r\n    return (\r\n      <div style={{ color: \"#ff000085\", fontWeight: \"800\" }}>\r\n        Login Error! Check Your Login ID or Password\r\n      </div>\r\n    );\r\n  };\r\n  return (\r\n    <>\r\n      <Header />\r\n      <div className=\"login\">\r\n        <div className=\"login__left\">\r\n          <h1>New here!</h1>\r\n          <p>Register yourself here to get access to our technology</p>\r\n          <button>\r\n            <Link to=\"/signup\" style={{ color: \"#fff\" }}>\r\n              SIGN UP\r\n            </Link>\r\n          </button>\r\n        </div>\r\n        <div className=\"login__right\">\r\n          <h1>Welcome Back</h1>\r\n          <p>use your email for login</p>\r\n\r\n          <div className=\"login__user__company\">\r\n            <div\r\n              className=\"login__user\"\r\n              style={{\r\n                background: isManufacturer ? \"#0c0fb0\" : \"#ffffff\",\r\n                color: isManufacturer ? \"#ffffff\" : \"#0c0fb0\",\r\n                cursor: \"pointer\",\r\n                boxShadow: \"0px 0px 3px 3px #12121210\",\r\n              }}\r\n              onClick={() => setIsManufacturer(true)}\r\n            >\r\n              Manufacturer\r\n            </div>\r\n            <div\r\n              className=\"login__company\"\r\n              style={{\r\n                background: !isManufacturer ? \"#0c0fb0\" : \"#ffffff\",\r\n                color: !isManufacturer ? \"#ffffff\" : \"#0c0fb0\",\r\n                cursor: \"pointer\",\r\n                boxShadow: \"0px 0px 3px 3px #12121210\",\r\n              }}\r\n              onClick={() => setIsManufacturer(false)}\r\n            >\r\n              Retailer\r\n            </div>\r\n          </div>\r\n          {loginError && showError()}\r\n          <form onSubmit={handleSubmit}>\r\n            <input\r\n              name=\"email\"\r\n              onChange={onInputChange}\r\n              value={userDetails.email}\r\n              placeholder=\"EMAIL\"\r\n            />\r\n            <input\r\n              name=\"password\"\r\n              onChange={onInputChange}\r\n              value={userDetails.password}\r\n              type=\"password\"\r\n              placeholder=\"PASSWORD\"\r\n            />\r\n            <button type=\"submit\">LOGIN</button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}