{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useAuth}from\"../../../Context/Context\";import{Link,useHistory}from\"react-router-dom\";import\"./Signup.css\";import axios from\"axios\";import{Header}from\"../../utils/Header/Header\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export const Signup=()=>{const history=useHistory();const{signup}=useAuth();const[isManufacturer,setIsManufacturer]=useState(true);const[signupError,setSignupError]=useState(false);const[userDetails,setUserDetails]=useState({name:\"\",email:\"\",password:\"\",address:\"\"});const onInputChange=e=>{const{name,value}=e.target;setUserDetails(prevUserDetails=>{return{...prevUserDetails,[name]:value};});};const showError=()=>{return/*#__PURE__*/_jsx(\"div\",{style:{color:\"#ff000085\",fontWeight:\"800\"},children:\"Signup Error! Email address already in use!\"});};const handleSubmit=async e=>{e.preventDefault();let user={};try{user=await signup(userDetails.email,userDetails.password);history.push(\"/\".concat(isManufacturer?\"manufacturer\":\"hospital\"));await axios.post(\"\".concat(isManufacturer?\"/backend/saveprofilemanu\":\"/backend/saveprofilehosp\"),{uid:user.user.uid,name:userDetails.name,email:userDetails.email,address:userDetails.address}).then(res=>{setUserDetails({name:\"\",email:\"\",password:\"\",address:\"\"});setSignupError(false);history.push(\"/\".concat(isManufacturer?\"manufacturer\":\"hospital\"));}).catch(err=>{});}catch(err){setUserDetails({name:\"\",email:\"\",password:\"\",address:\"\"});setSignupError(true);{}}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"signup\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"signup__left\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome Back!\"}),/*#__PURE__*/_jsx(\"p\",{children:\"To keep connected with us please login with your personal info\"}),/*#__PURE__*/_jsx(\"button\",{children:/*#__PURE__*/_jsx(Link,{to:\"/login\",style:{color:\"#ffffff\"},children:\"Sign In\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"signup__right\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Create Account\"}),/*#__PURE__*/_jsx(\"p\",{children:\"use your email for registeration\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"signup__user__company\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"signup__user\",style:{background:isManufacturer?\"#59aabe\":\"#ffffff\",color:isManufacturer?\"#ffffff\":\"#59aabe\",cursor:\"pointer\",boxShadow:\"0px 0px 3px 3px #12121210\"},onClick:()=>setIsManufacturer(true),children:\"Manufacturer\"}),/*#__PURE__*/_jsx(\"div\",{className:\"signup__company\",style:{background:!isManufacturer?\"#59aabe\":\"#ffffff\",color:!isManufacturer?\"#ffffff\":\"#59aabe\",cursor:\"pointer\",boxShadow:\"0px 0px 3px 3px #12121210\"},onClick:()=>setIsManufacturer(false),children:\"Retailer\"})]}),signupError&&showError(),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{name:\"name\",onChange:onInputChange,value:userDetails.name,placeholder:\"NAME\"}),/*#__PURE__*/_jsx(\"input\",{name:\"email\",onChange:onInputChange,value:userDetails.email,placeholder:\"EMAIL\"}),/*#__PURE__*/_jsx(\"input\",{name:\"address\",onChange:onInputChange,value:userDetails.address,type:\"text\",placeholder:\"ADDRESS\"}),/*#__PURE__*/_jsx(\"input\",{name:\"password\",onChange:onInputChange,value:userDetails.password,type:\"password\",placeholder:\"PASSWORD\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"SIGN UP\"})]})]})]})]});};","map":{"version":3,"names":["React","useState","useEffect","useAuth","Link","useHistory","axios","Header","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Signup","history","signup","isManufacturer","setIsManufacturer","signupError","setSignupError","userDetails","setUserDetails","name","email","password","address","onInputChange","e","value","target","prevUserDetails","showError","style","color","fontWeight","children","handleSubmit","preventDefault","user","push","concat","post","uid","then","res","catch","err","className","to","background","cursor","boxShadow","onClick","onSubmit","onChange","placeholder","type"],"sources":["C:/Users/Khushi Singh/OneDrive/Desktop/Medicator/frontend/src/Components/Pages/Signup/Signup.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useAuth } from \"../../../Context/Context\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport \"./Signup.css\";\r\nimport axios from \"axios\";\r\nimport { Header } from \"../../utils/Header/Header\";\r\n\r\nexport const Signup = () => {\r\n  const history = useHistory();\r\n  const { signup } = useAuth();\r\n  const [isManufacturer, setIsManufacturer] = useState(true);\r\n  const [signupError, setSignupError] = useState(false);\r\n  const [userDetails, setUserDetails] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    address: \"\",\r\n  });\r\n  const onInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setUserDetails((prevUserDetails) => {\r\n      return { ...prevUserDetails, [name]: value };\r\n    });\r\n  };\r\n  const showError = () => {\r\n    return (\r\n      <div style={{ color: \"#ff000085\", fontWeight: \"800\" }}>\r\n        Signup Error! Email address already in use!\r\n      </div>\r\n    );\r\n  };\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    let user = {};\r\n    try {\r\n      user = await signup(userDetails.email, userDetails.password);\r\n      history.push(`/${isManufacturer ? \"manufacturer\" : \"hospital\"}`);\r\n\r\n      await axios\r\n        .post(\r\n          `${\r\n            isManufacturer\r\n              ? \"/backend/saveprofilemanu\"\r\n              : \"/backend/saveprofilehosp\"\r\n          }`,\r\n          {\r\n            uid: user.user.uid,\r\n            name: userDetails.name,\r\n            email: userDetails.email,\r\n            address: userDetails.address,\r\n          }\r\n        )\r\n        .then((res) => {\r\n          setUserDetails({\r\n            name: \"\",\r\n            email: \"\",\r\n            password: \"\",\r\n            address: \"\",\r\n          });\r\n          setSignupError(false);\r\n          history.push(`/${isManufacturer ? \"manufacturer\" : \"hospital\"}`);\r\n        })\r\n        .catch((err) => {});\r\n    } catch (err) {\r\n      setUserDetails({\r\n        name: \"\",\r\n        email: \"\",\r\n        password: \"\",\r\n        address: \"\",\r\n      });\r\n      setSignupError(true);\r\n      {\r\n      }\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <Header />\r\n      <div className=\"signup\">\r\n        <div className=\"signup__left\">\r\n          <h1>Welcome Back!</h1>\r\n          <p>To keep connected with us please login with your personal info</p>\r\n\r\n          <button>\r\n            <Link to=\"/login\" style={{ color: \"#ffffff\" }}>\r\n              Sign In\r\n            </Link>\r\n          </button>\r\n        </div>\r\n        <div className=\"signup__right\">\r\n          <h1>Create Account</h1>\r\n          <p>use your email for registeration</p>\r\n          <div className=\"signup__user__company\">\r\n            <div\r\n              className=\"signup__user\"\r\n              style={{\r\n                background: isManufacturer ? \"#59aabe\" : \"#ffffff\",\r\n                color: isManufacturer ? \"#ffffff\" : \"#59aabe\",\r\n                cursor: \"pointer\",\r\n                boxShadow: \"0px 0px 3px 3px #12121210\",\r\n              }}\r\n              onClick={() => setIsManufacturer(true)}\r\n            >\r\n              Manufacturer\r\n            </div>\r\n            <div\r\n              className=\"signup__company\"\r\n              style={{\r\n                background: !isManufacturer ? \"#59aabe\" : \"#ffffff\",\r\n                color: !isManufacturer ? \"#ffffff\" : \"#59aabe\",\r\n                cursor: \"pointer\",\r\n                boxShadow: \"0px 0px 3px 3px #12121210\",\r\n              }}\r\n              onClick={() => setIsManufacturer(false)}\r\n            >\r\n              Retailer\r\n            </div>\r\n          </div>\r\n          {signupError && showError()}\r\n          <form onSubmit={handleSubmit}>\r\n            <input\r\n              name=\"name\"\r\n              onChange={onInputChange}\r\n              value={userDetails.name}\r\n              placeholder=\"NAME\"\r\n            />\r\n            <input\r\n              name=\"email\"\r\n              onChange={onInputChange}\r\n              value={userDetails.email}\r\n              placeholder=\"EMAIL\"\r\n            />\r\n            <input\r\n              name=\"address\"\r\n              onChange={onInputChange}\r\n              value={userDetails.address}\r\n              type=\"text\"\r\n              placeholder=\"ADDRESS\"\r\n            />\r\n            <input\r\n              name=\"password\"\r\n              onChange={onInputChange}\r\n              value={userDetails.password}\r\n              type=\"password\"\r\n              placeholder=\"PASSWORD\"\r\n            />\r\n            <button type=\"submit\">SIGN UP</button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}