{"ast":null,"code":"import React,{useState}from\"react\";import{Header}from\"../../utils/Header/Header\";import\"./Scan_Vaccine.css\";import{QRCodeScanner}from\"../../utils/QRCodeScanner/QRCodeScanner\";import axios from\"axios\";import{useAuth}from\"../../../Context/Context\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export const Scan_Vaccine=()=>{const{currentUser}=useAuth();const[details,setDetails]=useState({product_id:\"\",private_key:\"\"});const[qrData,setQRData]=useState(\"\");const[data,setData]=useState([]);const[showQRScanner,setShowQRScanner]=useState(false);const onChangeDetails=e=>{const{name,value}=e.target;setDetails(prevDetails=>{return{...prevDetails,[name]:value};});};const submitDetails=e=>{e.preventDefault();axios.post(\"/backend/hospital\",{uid:currentUser.uid,product_id:details.product_id,private_key:details.private_key}).then(res=>{setDetails({product_id:\"\",private_key:\"\"});}).catch(err=>{});};function getData(data){setQRData(data);setDetails(prevDetails=>{return{...prevDetails,[\"product_id\"]:data.text};});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"Scan_Vaccine\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Scan Your Vaccine\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"Scan_Vaccine__content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"Scan_Vaccine__left\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Enter Details\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitDetails,children:[/*#__PURE__*/_jsx(\"input\",{name:\"product_id\",value:details.product_id,placeholder:\"PRODUCT ID\",onChange:onChangeDetails}),/*#__PURE__*/_jsx(\"input\",{name:\"private_key\",value:details.private_key,placeholder:\"PRIVATE KEY\",onChange:onChangeDetails}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"Scan_Vaccine__line\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"Scan_Vaccine__right\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Scan By QR Code\"}),!showQRScanner&&/*#__PURE__*/_jsx(\"div\",{className:\"showButton\",onClick:()=>setShowQRScanner(!showQRScanner),children:\"Show QR scanner\"}),/*#__PURE__*/_jsx(\"div\",{className:\"Scan_Vaccine__right__QRscanner\",style:{display:!showQRScanner?\"none\":\"\"},children:showQRScanner&&/*#__PURE__*/_jsx(QRCodeScanner,{xd:getData})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"Scan_Vaccine__details\"})]})]});};","map":{"version":3,"names":["React","useState","Header","QRCodeScanner","axios","useAuth","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Scan_Vaccine","currentUser","details","setDetails","product_id","private_key","qrData","setQRData","data","setData","showQRScanner","setShowQRScanner","onChangeDetails","e","name","value","target","prevDetails","submitDetails","preventDefault","post","uid","then","res","catch","err","getData","text","children","className","onSubmit","placeholder","onChange","type","onClick","style","display","xd"],"sources":["C:/Users/Khushi Singh/OneDrive/Desktop/Medicator/frontend/src/Components/Pages/Scan_Vaccine/Scan_Vaccine.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { Header } from \"../../utils/Header/Header\";\r\nimport \"./Scan_Vaccine.css\";\r\nimport { QRCodeScanner } from \"../../utils/QRCodeScanner/QRCodeScanner\";\r\nimport axios from \"axios\";\r\nimport { useAuth } from \"../../../Context/Context\";\r\n\r\nexport const Scan_Vaccine = () => {\r\n  const {currentUser}=useAuth();\r\n  const [details, setDetails] = useState({ product_id: \"\", private_key: \"\" });\r\n  const [qrData, setQRData] = useState(\"\");\r\n  const [data, setData] = useState([]);\r\n  const [showQRScanner, setShowQRScanner] = useState(false);\r\n\r\n  const onChangeDetails = (e) => {\r\n    const { name, value } = e.target;\r\n    setDetails((prevDetails) => {\r\n      return { ...prevDetails, [name]: value };\r\n    });\r\n  };\r\n  const submitDetails = (e) => {\r\n    e.preventDefault();\r\n    axios\r\n      .post(\"/backend/hospital\", {\r\n        uid: currentUser.uid,\r\n        product_id: details.product_id,\r\n        private_key: details.private_key,\r\n      })\r\n      .then((res) => {\r\n        setDetails({ product_id: \"\", private_key: \"\" });\r\n      })\r\n      .catch((err) => {});\r\n  };\r\n  function getData(data) {\r\n    setQRData(data);\r\n    setDetails((prevDetails) => {\r\n      return { ...prevDetails, [\"product_id\"]: data.text };\r\n    });\r\n  }\r\n  return (\r\n    <>\r\n      <Header />\r\n      <div className=\"Scan_Vaccine\">\r\n        <h1>Scan Your Vaccine</h1>\r\n        <div className=\"Scan_Vaccine__content\">\r\n          <div className=\"Scan_Vaccine__left\">\r\n            <h1>Enter Details</h1>\r\n            <form onSubmit={submitDetails}>\r\n              <input\r\n                name=\"product_id\"\r\n                value={details.product_id}\r\n                placeholder=\"PRODUCT ID\"\r\n                onChange={onChangeDetails}\r\n              />\r\n              <input\r\n                name=\"private_key\"\r\n                value={details.private_key}\r\n                placeholder=\"PRIVATE KEY\"\r\n                onChange={onChangeDetails}\r\n              />\r\n              <input type=\"submit\" />\r\n            </form>\r\n          </div>\r\n          <div className=\"Scan_Vaccine__line\"></div>\r\n          <div className=\"Scan_Vaccine__right\">\r\n            <h1>Scan By QR Code</h1>\r\n            {!showQRScanner && (\r\n              <div\r\n                className=\"showButton\"\r\n                onClick={() => setShowQRScanner(!showQRScanner)}\r\n              >\r\n                Show QR scanner\r\n              </div>\r\n            )}\r\n            <div\r\n              className=\"Scan_Vaccine__right__QRscanner\"\r\n              style={{ display: !showQRScanner ? \"none\" : \"\" }}\r\n            >\r\n              {showQRScanner && <QRCodeScanner xd={getData} />}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"Scan_Vaccine__details\"></div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}