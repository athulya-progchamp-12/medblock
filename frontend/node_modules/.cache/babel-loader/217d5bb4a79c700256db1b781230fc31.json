{"ast":null,"code":"import axios from\"axios\";import React,{useState,useEffect}from\"react\";import{Header}from\"../../utils/Header/Header\";import{Record_Block}from\"../../utils/Record_Block/Record_Block\";import\"./Create_Record.css\";import{useAuth}from\"../../../Context/Context\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export const Create_Record=()=>{const{currentUser}=useAuth();const[records,setRecords]=useState([]);useEffect(()=>{axios.post(\"/backend/history\",{uid:currentUser.uid,type:\"manufacturer\"}).then(res=>{setRecords(res.data);}).catch(err=>{});},[]);const submitRecord=async record=>{await axios.post(\"/backend/vaccreate\",{uid:currentUser.uid,vaccine_name:record.vaccine_name,manufacturing_date:record.manufacturing_date,expiry_date:record.expiry_date,MRP:record.MRP,private_key:record.private_key}).then(res=>{let r={date:record.manufacturing_date,expiry:record.expiry_date,mrp:record.MRP,name:record.vaccine_name};setRecords([...records,r]);}).catch(err=>{});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"create_record\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"CREATE NEW RECORD\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"create_record_content\",children:[records.map((record,idx)=>{return/*#__PURE__*/_jsx(Record_Block,{type:\"show\",detail:record},idx);}),/*#__PURE__*/_jsx(Record_Block,{type:\"add\",submit:submitRecord})]})]})]});};","map":{"version":3,"names":["axios","React","useState","useEffect","Header","Record_Block","useAuth","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Create_Record","currentUser","records","setRecords","post","uid","type","then","res","data","catch","err","submitRecord","record","vaccine_name","manufacturing_date","expiry_date","MRP","private_key","r","date","expiry","mrp","name","children","className","map","idx","detail","submit"],"sources":["C:/Users/Khushi Singh/OneDrive/Desktop/Medicator/frontend/src/Components/Pages/Create_Record/Create_Record.jsx"],"sourcesContent":["import axios from \"axios\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { Header } from \"../../utils/Header/Header\";\r\nimport { Record_Block } from \"../../utils/Record_Block/Record_Block\";\r\nimport \"./Create_Record.css\";\r\nimport { useAuth } from \"../../../Context/Context\";\r\n\r\nexport const Create_Record = () => {\r\n  const { currentUser } = useAuth();\r\n  const [records, setRecords] = useState([]);\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .post(\"/backend/history\", { uid: currentUser.uid, type: \"manufacturer\" })\r\n      .then((res) => {\r\n        setRecords(res.data);\r\n      })\r\n      .catch((err) => {});\r\n  }, []);\r\n  const submitRecord = async (record) => {\r\n    await axios\r\n      .post(\"/backend/vaccreate\", {\r\n        uid: currentUser.uid,\r\n        vaccine_name: record.vaccine_name,\r\n        manufacturing_date: record.manufacturing_date,\r\n        expiry_date: record.expiry_date,\r\n        MRP: record.MRP,\r\n        private_key: record.private_key,\r\n      })\r\n      .then((res) => {\r\n        let r={\r\n          date:record.manufacturing_date,\r\n          expiry:record.expiry_date,\r\n          mrp:record.MRP,\r\n          name:record.vaccine_name,\r\n        }\r\n        setRecords([...records,r]);\r\n      })\r\n      .catch((err) => {});\r\n  };\r\n  return (\r\n    <>\r\n      <Header />\r\n      <div className=\"create_record\">\r\n        <h1>CREATE NEW RECORD</h1>\r\n        <div className=\"create_record_content\">\r\n          {records.map((record, idx) => {\r\n            return <Record_Block key={idx} type=\"show\" detail={record} />;\r\n          })}\r\n          <Record_Block type=\"add\" submit={submitRecord} />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,MAAM,KAAQ,2BAA2B,CAClD,OAASC,YAAY,KAAQ,uCAAuC,CACpE,MAAO,qBAAqB,CAC5B,OAASC,OAAO,KAAQ,0BAA0B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEnD,MAAO,MAAM,CAAAC,aAAa,CAAGA,CAAA,GAAM,CACjC,KAAM,CAAEC,WAAY,CAAC,CAAGR,OAAO,CAAC,CAAC,CACjC,KAAM,CAACS,OAAO,CAAEC,UAAU,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAE1CC,SAAS,CAAC,IAAM,CACdH,KAAK,CACFiB,IAAI,CAAC,kBAAkB,CAAE,CAAEC,GAAG,CAAEJ,WAAW,CAACI,GAAG,CAAEC,IAAI,CAAE,cAAe,CAAC,CAAC,CACxEC,IAAI,CAAEC,GAAG,EAAK,CACbL,UAAU,CAACK,GAAG,CAACC,IAAI,CAAC,CACtB,CAAC,CAAC,CACDC,KAAK,CAAEC,GAAG,EAAK,CAAC,CAAC,CAAC,CACvB,CAAC,CAAE,EAAE,CAAC,CACN,KAAM,CAAAC,YAAY,CAAG,KAAO,CAAAC,MAAM,EAAK,CACrC,KAAM,CAAA1B,KAAK,CACRiB,IAAI,CAAC,oBAAoB,CAAE,CAC1BC,GAAG,CAAEJ,WAAW,CAACI,GAAG,CACpBS,YAAY,CAAED,MAAM,CAACC,YAAY,CACjCC,kBAAkB,CAAEF,MAAM,CAACE,kBAAkB,CAC7CC,WAAW,CAAEH,MAAM,CAACG,WAAW,CAC/BC,GAAG,CAAEJ,MAAM,CAACI,GAAG,CACfC,WAAW,CAAEL,MAAM,CAACK,WACtB,CAAC,CAAC,CACDX,IAAI,CAAEC,GAAG,EAAK,CACb,GAAI,CAAAW,CAAC,CAAC,CACJC,IAAI,CAACP,MAAM,CAACE,kBAAkB,CAC9BM,MAAM,CAACR,MAAM,CAACG,WAAW,CACzBM,GAAG,CAACT,MAAM,CAACI,GAAG,CACdM,IAAI,CAACV,MAAM,CAACC,YACd,CAAC,CACDX,UAAU,CAAC,CAAC,GAAGD,OAAO,CAACiB,CAAC,CAAC,CAAC,CAC5B,CAAC,CAAC,CACDT,KAAK,CAAEC,GAAG,EAAK,CAAC,CAAC,CAAC,CACvB,CAAC,CACD,mBACEd,KAAA,CAAAE,SAAA,EAAAyB,QAAA,eACE7B,IAAA,CAACJ,MAAM,GAAE,CAAC,cACVM,KAAA,QAAK4B,SAAS,CAAC,eAAe,CAAAD,QAAA,eAC5B7B,IAAA,OAAA6B,QAAA,CAAI,mBAAiB,CAAI,CAAC,cAC1B3B,KAAA,QAAK4B,SAAS,CAAC,uBAAuB,CAAAD,QAAA,EACnCtB,OAAO,CAACwB,GAAG,CAAC,CAACb,MAAM,CAAEc,GAAG,GAAK,CAC5B,mBAAOhC,IAAA,CAACH,YAAY,EAAWc,IAAI,CAAC,MAAM,CAACsB,MAAM,CAAEf,MAAO,EAAhCc,GAAkC,CAAC,CAC/D,CAAC,CAAC,cACFhC,IAAA,CAACH,YAAY,EAACc,IAAI,CAAC,KAAK,CAACuB,MAAM,CAAEjB,YAAa,CAAE,CAAC,EAC9C,CAAC,EACH,CAAC,EACN,CAAC,CAEP,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}